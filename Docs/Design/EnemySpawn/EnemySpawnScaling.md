# 적 스탯 스케일링 시스템

> **목적**: 시간 경과에 따라 적의 스탯을 증가시켜 플레이어 성장과 균형을 맞춥니다.

## 핵심 요약

경과 시간에 따라 적의 스탯을 자동으로 조정:
- **체력**: 분당 +15%
- **공격력**: 분당 +10%
- **속도**: 분당 +5% (최대 2배)

**적용 방식**: 적 스폰 시 현재 경과 시간을 기준으로 스탯 계산

---

## 스케일링 공식

### 체력 (HP)

```
최종 HP = 기본 HP × (1 + 경과 분 × 0.15)
```

**설계 의도**:
- 시간 진행 시 적이 오래 버팀
- 플레이어 화력 업그레이드와 균형
- 가장 빠른 증가율로 생존력 확보

**예시**:
- 0분: 100 HP
- 5분: 175 HP (+75%)
- 10분: 250 HP (+150%)
- 15분: 325 HP (+225%)

---

### 공격력 (Attack)

```
최종 공격력 = 기본 공격력 × (1 + 경과 분 × 0.10)
```

**설계 의도**:
- HP보다 느린 증가율 (플레이어 생존 가능하도록)
- 플레이어 HP의 10~20%를 한 번에 깎는 수준 유지
- 즉사 방지, 회피/대응 시간 보장

**예시**:
- 0분: 10 공격력
- 5분: 15 공격력 (+50%)
- 10분: 20 공격력 (+100%)
- 15분: 25 공격력 (+150%)

---

### 속도 (Speed)

```
최종 속도 = 기본 속도 × Min(2.0, 1 + 경과 분 × 0.05)
```

**설계 의도**:
- 가장 느린 증가율
- 최대 2배 상한선 설정 (과도한 속도 방지)
- 플레이어가 회피 가능한 범위 유지

**예시**:
- 0분: 1.0배속
- 10분: 1.5배속 (+50%)
- 20분: 2.0배속 (상한 도달)
- 30분: 2.0배속 (유지)

---

## 시간대별 난이도 예상

| 시간 | HP 배율 | 공격력 배율 | 속도 배율 |
|------|---------|------------|----------|
| 0분 | 1.0× | 1.0× | 1.0× |
| 5분 | 1.75× | 1.5× | 1.25× |
| 10분 | 2.5× | 2.0× | 1.5× |
| 15분 | 3.25× | 2.5× | 1.75× |
| 20분 | 4.0× | 3.0× | 2.0× (상한) |

---

## 밸런싱 고려사항

**플레이어 성장과의 균형**:
- 플레이어 화력 증가율 > 적 HP 증가율 (우위 유지)
- 플레이어 방어력 증가율 > 적 공격력 증가율 (생존 보장)
- 플레이어 이동속도 > 적 속도 (회피 가능)

**스케일링 계수 조정 방향**:
- 너무 쉬움 → 계수 증가 (0.15 → 0.20)
- 너무 어려움 → 계수 감소 (0.15 → 0.10)
- 후반 지루함 → 지수 함수 전환 고려

**특정 적 타입 예외**:
- Boss: 스케일링 계수 × 0.8 (기본 스탯이 높아서)
- Elite: 스케일링 계수 × 1.2 (추가 도전)
- Swarm: HP만 스케일링 (속도는 고정)

---

## 구현 참고

**적용 시점**:
- 적 스폰 시 현재 경과 시간 확인
- 스탯 계산 후 적용
- 런타임 동적 계산 (고정값 아님)

**성능 고려**:
- 경과 분 계산 캐싱 (매 프레임 계산 불필요)
- 스폰 시에만 계산

**관련 시스템**:
- [TimeBasedBudgetSpawnSystem.md](TimeBasedBudgetSpawnSystem.md): 스폰 타이밍 및 빈도 제어
- WaveSystem.md: 기존 웨이브 시스템 (참고용)

---

## 문서 정보
- **작성일**: 2026-01-20
- **버전**: 3.0 (적 스탯 스케일링에 집중)
